<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="/dist/todolist.css">
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>chessboardjs Example #2003 - Draggable Snapback</title>
        <base href="../" />
        <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css" integrity="sha384-q94+BZtLrkL1/ohfjR8c6L+A6qzNH9R2hBLwyoAfu3i/WCvQjzL2RQJ3uNHDISdU" crossorigin="anonymous">
    </head>
    <body>

        <div id="myDIV" class="header">
            <h2 style="margin:5px">Add Circles</h2>
            <input type="text" id="myInput" placeholder="Circle...">
            <span onclick="newElement()" class="addBtn">Add</span>
        </div>

        <ul id="myUL">
        </ul>

        <div id="myDIV2" class="header">
            <h2 style="margin:5px">Add Arrows</h2>
            <input type="text" id="myInput2" placeholder="Arrow...">
            <span onclick="newElement2()" class="addBtn2">Add</span>
        </div>

        <ul id="myUL2">
        </ul>

        <h3> Drag pieces on board to generate svg </h3>
        <div id="myBoard" style="width: 400px"></div>
        <button id="startBtn">Start Position</button>
        <button id="clearBtn">Clear Board</button>

        <button id="someButton"> Submit </button>

        <h3 style="text-align: center"> Slide Preview </h3>
        <div id="foo" style="width: 400px; margin: 0 auto"></div>
        <button id="next-slide" onclick="addSlide()"> Add next slide </button>





        <script src="/third-party-libraries/jquery.js"></script>
        <script src="/third-party-libraries/chessboard-1.0.0.min.js"></script>
        <script src="/third-party-libraries/chess.js"></script>
        <script>
            window.currentFen = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"; // starting position
            window.divId = "foo";
            window.circles = [];
            window.arrows = [];

            var config = {
                draggable: true,
                dropOffBoard: 'snapback', // this is the default
                position: 'start',
                onDrop: function(source, target, piece, newPos, oldPos, orientation){
                    window.currentFen = Chessboard.objToFen(newPos);
                    console.log(window.currentFen);
                    drawBoardDiagram(window.divId, window.currentFen, window.circles, window.arrows);
                },
                sparePieces: true
            };
            var board = Chessboard('myBoard', config);
            $('#startBtn').on('click', board.start);
            $('#clearBtn').on('click', board.clear);
        </script>


        <script src="/dist/drawBoardForSlide.js"></script>
        <script src="/dist/addCircles.js"></script>
        <script src="/dist/addArrows.js"></script>
    </body>
</html>
